# Шпаргалка по git

----

В этом файле я хочу показать как создать и использовать репозиторий с самого начала.

----

### Инициализация локального репозитория

Переходим в нужную директорию с помощью команды:

```bash
cd <Директория>
```

Инициализируем репозиторий командой:

```bash
git init
```

Если мы случайно сделали репозиторием не ту папку ее можно разгитить:

```bash
rm -rf .git
```

*Справка:*
* `-r` позволяет рекурсивно удалять папки вместе с их содержимым.
* `-f` избавляет нас от вопросов вроде «Вы точно хотите удалить этот файл? А этот? И этот тоже?».

Мы можем проверить статус репозитория команой:

```bash
git status
```

Она выведет:
* Название текущей ветки.
* Сообщение о том что в репозитории еще нет или уже есть коммиты.

----

### Добавим файлы для отслеживания

Подготовим файл для сохранения:

```bash
git add <filename>
```

Если мы хотим подготовить все файлы из папки можем использовать:

```bash
git add --all
```

Чтобы добавить всю текущую папку мы можем использовать команду:

```bash
git add .
```

*Справка:*
Команда `git add` не сохраняет содержимое файлов в репозитории,
она отвечает за отслеживание и подготовку к коммиту.

----

### Делаем commit

Сделаем коммит с помощью команды:

```bash
git commit -m "Название коммита"
```

После ее выполнения текущая версия отслеживаемых файлов будет сохранена
в репозитории с сообщением "Название коммита".

*Справка:*
Разница между git add и git commit состоит в том, что первая из них
сообщает Git какие именно файлы нужно сохранить и какую их версию,
а с помощью git commit происходит само сохранение.

----

### Просмотр истории коммитов

Чтобы вывести историю коммитов воспользуемся командой:

```bash
git log
```

Она выведет коммиты в обратном хронологическом порядке - последние будут
первыми сверху.

----

Теперь нам нужно зарегестрироваться на GitHub, создать удаленный репозиторий там и связать его с нашим локальным.

----

### Создаем удаленный репозиторий

Заходим в свой профиль по ссылке `https://github.com/username`, переходим во вкладку **Repositories** и нажимаем зеленую кнопку **New**.
Откроется окно создания репозитория, выберите подходящие вам параметры и нажмите зеленую кнопку **Create repository**

----

### Генерируем SSH ключ

Для начала нам потребуется сгенерировать **SSH** ключ.

Чтобы проверить его наличие перейдите в домашнюю директорию и используйте команду:

```bash
ls -la .ssh/
```

Если папка пуста или ее нет, все в порядке. Если же это не так то **SSH** ключи уже создавались и их нужно удалить.

Теперь сгенерируем новый **SSH** ключ.

Для этого воспользуемся командой:

```bash
ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```

Если вы видите сообщение об ошибке используйте другую:

```bash
ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```

После ее ввода отобразиться следующее сообщение: `Generating public/private rsa key pair.`

Укажем место хранения ключей, самый простой способ просто нажать `Enter`, тогда они сохранятся в домашней директории.

Программа запросит кодовую фразу, вы вправе не создавать ее дважды нажав `Enter`.

Проверим что ключи сгенерировались используя команду:

```bash
ls -a ~/.ssh
```

----

### Привяжем SSH ключ к GitHub

Скопируем содержимое ключа в буфер обмена:

```bash
pbcopy < ~/.ssh/id_rsa.pub
# для ed25519:
pbcopy < ~/.ssh/id_ed25519.pub
```

Перейдем в раздел `Settings` на GitHub и выберем в меню слева раздел `SSH and GPG keys` и добавим **SSH** ключ с помощью кнопки `New SSH key` выбрав в поле `Title` **Authentication Key**.

Проверм правильность ключа введя следующую команду:

```bash
ssh -T git@github.com
```

Если вы делаете это впервые система выдаст следующее:

```bash
The authenticity of host 'github.com (140.82.121.4)' can't be established. ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU. This key is not known by any other names. Are you sure you want to continue connecting (yes/no/[fingerprint])?
```

Напишите `yes` в командную строку чтобы продолжить.

----

### Связываем локальный и удаленный репозиторий

На GitHub в репозитории скопируйте **SSH ссылку**.

Перейдите в каталог локального репозитория и введите команду:

```bash
git remote add origin <ссылка>
```
Теперь убедимся, что репозитории связаны, для этого используем команду:

```bash
git remote -v
```

----

### Синхронизируем локальный и удаленный репозитории

Чтобы отправить изминения на удаленный репозиторий используем команду:

```bash
git push -u origin main
```

Она синхронизирует последний **commit** и последние версии файлов.
